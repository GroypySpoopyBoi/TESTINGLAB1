language:
  - cpp

before_install:
  - pip install --user cpp-coveralls
addons:
  sonarcloud:
    organization: "groypyspoopyboi"
    token:
      secure: "EbZ41ytNTRX0NeKYvLilmXYbLgJf8cZLfjIDlRBVbhvzWYLjBW99kMNoZi5FRp52YYnAPxwArVx/+Od5n3JEZfCbuwUmy5Hwgcr9E1Yfnm+wVZ2OgTRC55s8+NYpqskK4mj5afl/aL6pzEKY9uZbiD/MrLGrJ0JURWmCBC2h0hZlZgQV7u80YF956dfGgC4Fqmc3zH9vPV+qQ5nzVV4zZWgmafSDJ3pKp1VJjRaQ8ebXIPn9CvG/aqRZwrPPUP8CWu2EO7mfve0zjNZcemYF92zLmSdCQYpbhB8Fs34HGf43ZXBhCyGG8ephTEMWEmaz1inpyo0CdbyuPb47SJhj6HAE/zZINA60t0G+eDl0Duk77I3zlUqupNH3z7G8M122nP+Ues9JPCH2h8gPrCfbBQLkzWFZ1dNelDyt06lFkT5NBC2wbTSh3Z/nRfPomEMjsnaawmODrx5e0eu3iI/wA39XglKD+cCAZH/2Wre63TLY2iOhG66v5gqQwMc9wZlFr63ZaV3R1vfcgmFAtn7czZ0k2GH4f3eYTBy1L8kLzfL9C3EWhE7+oIR2g3zAcUp5HFamSy6oui/PybZNDtFZVAHjIRhA3JFxaAcRjTQjvzr1RoF3AedKGOiJP03Xfa/7DLp6vOUZB6bIehL5GAOUXUT4NskmDxLAYdxQPEP2SiQ=" # encrypted value of your token
      
script:
  - qmake
  - make
  - ./tests/tests
  
after_success:
  - coveralls --root . -E ".*external.*" -E ".*tests.*"
  # Wraps the compilation with the Build Wrapper to generate configuration (used
  # later by the SonarScanner) into the "bw-output" folder
  - build-wrapper-linux-x86-64 --out-dir bw-output make clean all
  # And finally run the SonarCloud analysis - read the "sonar-project.properties"
  # file to see the specific configuration
  - sonar-scanner -Dsonar.cfamily.build-wrapper-output=bw-output

cache:
  directories:
  - '$HOME/.m2/repository'
  - '$HOME/.sonar/cache'

notifications:
  email: false
  